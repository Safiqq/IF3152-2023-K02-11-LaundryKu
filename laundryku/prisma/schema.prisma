// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model Authentication {
  id        Int      @id @default(autoincrement())
  token     String   @unique
  createdAt DateTime @default(now())
  updatedAt DateTime @updatedAt
  deletedAt DateTime
}

enum UserType {
  pegawai
  pelanggan
}

model User {
  id       Int      @id @default(autoincrement())
  username String   @unique
  nama     String
  email    String   @unique
  password String   
  tipe     UserType
}

model Item {
  id         Int         @id @default(autoincrement())
  nama       String
  harga      Int
  gambar     String
  kategori   String
  keranjangs Keranjang[]
  pesanans   Pesanan[]
}

model Keranjang {
  id           Int @id @default(autoincrement())
  items        Item[]
  totalNominal Int
}

enum StatusPesanan {
  DalamProses
  SiapDiambil
  Selesai
}

enum StatusPembayaran {
  BelumDibayar
  SudahDibayar
}

model Pesanan {
  id               Int              @id @default(autoincrement())
  idUser           Int
  items            Item[]
  waktuPemesanan   DateTime         @default(now())
  nominalPemesanan Int
  statusPesanan    StatusPesanan
  buktiPembayaran  String
  statusPembayaran StatusPembayaran
}